<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Hello React</title>
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

    <!-- babel => compilation du JSX -->
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
    <style>
        .heading {
            color: purple;
        }

        .principal {
            background-color: beige;
        }
    </style>
</head>

<body>
    <div id="root"></div>
    <script type="text/babel">

        const initialstate = {
            number1: '', number2: ''
        }

        // algo sur le state la fonction dispatch envoie action et met à jour le state
        // au départ state est appelé par useReducer avec initialState
        const reducer = (state, action) => {

            console.log(action) 

            console.log(state)

            switch (action.type) {

                case 'number1':
                    return { ...state, number1: action.number1 }; // diff un delta 

                case 'number2':
                    return { ...state, number2: action.number2 };
                default:
                    return state;
            }
        }

        const App = () => {
            // un super state avec la possibillité de mettre de l'algo
            const [state, dispatch] = React.useReducer(reducer, initialstate);

            return (
                <div>
                    <p>Number1 :<input type="text" value={state.number1} onChange={ e => dispatch({ type : 'number1' , number1 : e.target.value})} />{state.number1}</p>
                    <p>Number2 : <input type="text" value={state.number2} onChange={ e => dispatch({ type : 'number2' , number2 : e.target.value})} />{state.number2}</p>
                </div>
            )
        }

        ReactDOM.render(
            <App />,
            document.getElementById('root')
        );
    </script>
</body>

</html>